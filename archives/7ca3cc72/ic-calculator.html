<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/logo3-apple-touch-icon.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo-32x32.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo-16x16.png?v=7.3.0">
  <link rel="mask-icon" href="/images/logo3.svg?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"left","display":"hide","offset":12,"onmobile":true},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta name="description" content="This article features calculators of:  Simple calculator Resonating frequency. Impedance conversion. Transmission line RLGC parameters from S parameters.">
<meta name="keywords" content="Scripts,RF,Analog">
<meta property="og:type" content="article">
<meta property="og:title" content="IC Calculator">
<meta property="og:url" content="https://triblemany.github.io/archives/7ca3cc72/ic-calculator.html">
<meta property="og:site_name" content="Triblemany">
<meta property="og:description" content="This article features calculators of:  Simple calculator Resonating frequency. Impedance conversion. Transmission line RLGC parameters from S parameters.">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2024-05-19T09:25:42.613Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IC Calculator">
<meta name="twitter:description" content="This article features calculators of:  Simple calculator Resonating frequency. Impedance conversion. Transmission line RLGC parameters from S parameters.">
  <link rel="canonical" href="https://triblemany.github.io/archives/7ca3cc72/ic-calculator">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>IC Calculator | Triblemany</title>
  <meta name="generator" content="Hexo 3.9.0">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146837898-1"></script>
  <script>
    var host = window.location.hostname;
    if (host !== "localhost" || !true) {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-146837898-1');
    }
  </script>








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Triblemany</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
      </li>
    
  </ul>

    

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-wrapper">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content page-post-detail">
            

  <div id="posts" class="posts-expand">
    

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://triblemany.github.io/archives/7ca3cc72/ic-calculator.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Triblemany">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Triblemany">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">IC Calculator

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2020-03-18 20:40:20" itemprop="dateCreated datePublished" datetime="2020-03-18T20:40:20+08:00">2020-03-18</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-05-19 17:25:42" itemprop="dateModified" datetime="2024-05-19T17:25:42+08:00">2024-05-19</time>
              </span>
            
          

          
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
              
                <span class="post-meta-item-text">Symbols count in article: </span>
              
              <span>14k</span>
            </span>
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>This article features calculators of:</p>
<ul>
<li>Simple calculator</li>
<li>Resonating frequency.</li>
<li>Impedance conversion.</li>
<li>Transmission line RLGC parameters from S parameters.</li>
</ul>
<a id="more"></a>
<h1 id="Simple-Calculator-with-mathjs"><a href="#Simple-Calculator-with-mathjs" class="headerlink" title="Simple Calculator with mathjs"></a>Simple Calculator with mathjs</h1><p>Usages includes:</p>
<ul>
<li>Direct calculation: <code>(1+2) 3/4</code> (where space denotes multiplication)</li>
<li>Variable definition: <code>x=2</code></li>
<li>Function definition: <code>db(x)=20 log10(x)</code></li>
<li>Matrix calculation: <code>det([1, 2;3, 4])</code></li>
<li>Symbolic calaulation:<ul>
<li><code>a=simplify(&#39;x+x&#39;)</code></li>
<li><code>a.evaluate({x:2})</code></li>
<li><code>derivative(&#39;log(x)&#39;,&#39;x&#39;)</code></li>
</ul>
</li>
</ul>
<p>Refer to <a href="https://mathjs.org/docs/index.html" target="_blank" rel="noopener">mathjs documentation</a> for detailed usages.</p>
<html>
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.min.js"></script>
<script type="text/javascript">
const { complex, add, subtract, multiply, divide, sqrt, pow, abs, pi, e, log, log10, format } = math;
const parser = math.parser()

function s2rlgc(s11, s12, s21, s22, linelength, freq, z0){
    precision = 5;
    output = 'Result:<br/><table>'
    s11_2 = pow(s11, 2);
    s21_2 = pow(s21, 2);
    Z2_num = subtract(pow(add(1, s11), 2), s21_2);
    Z2_den = subtract(pow(subtract(1, s11), 2), s21_2);
    knum2 = multiply(Z2_num, Z2_den);
    knum = sqrt(knum2);
    expGammaLenPos = divide(add(add(subtract(1, s11_2), s21_2), knum), multiply(2, s21));
    logexp = log(expGammaLenPos);
    gamma = divide(logexp, linelength);
    output += ('<tr><td>Gamma:</td><td>' + gamma.format(precision) + '</td></tr>');

    Z2 = divide(multiply(pow(z0, 2), Z2_num), Z2_den);
    Zc = sqrt(Z2);
    output += ('<tr><td>Zc:</td><td>' + Zc.format(precision) + '</td></tr>');

    w = multiply(2, multiply(pi, freq));
    R = multiply(gamma, Zc).re;
    L = divide(multiply(gamma, Zc).im, w);
    G = divide(gamma, Zc).re;
    C = divide(divide(gamma, Zc).im, w);
    output += ('<tr><td>R:</td><td>' + format(R, precision) + '</td></tr>');
    output += ('<tr><td>L:</td><td>' + format(L, precision) + '</td></tr>');
    output += ('<tr><td>G:</td><td>' + format(G, precision) + '</td></tr>');
    output += ('<tr><td>C:</td><td>' + format(C, precision) + '</td></tr>');

    A = 20 * gamma.re * log10(e);
    output += ('<tr><td>A [dB/m]:</td><td>' + format(A, precision) + '</td></tr>');
    keff = pow(gamma.im * 299792458 / w, 2);
    output += ('<tr><td>Keff:</td><td>' + format(keff, precision) + '</td></tr>');

    theta = multiply(divide(multiply(linelength, gamma.im), pi), 180);
    output += ('<tr><td>Theta [deg]:</td><td>' + format(theta, precision) + '</td></tr>');
    output += '</table>';
    return output;
}

function calcImp(){
    precision = 5;
    freq = parseFloat($("#freqi").val()) * 1e9;
    w = 2 * pi * freq;
    Z = complex(parseFloat($("#Ireal").val()), parseFloat($("#Iimag").val()));
    Y = divide(1, Z);
    Z0 = complex(parseFloat($("#Nr").val()), parseFloat($("#Ni").val()));
    R = divide(subtract(Z, Z0), add(Z, Z0));
    //$("#Ireal").val(format(Z.re, precision));
    //$("#Iimag").val(format(Z.im, precision));
    $("#Areal").val(format(Y.re, precision));
    $("#Aimag").val(format(Y.im, precision));
    $("#SR").val(format(Z.re, precision));
    $("#PR").val(format(1/Y.re, precision));
    $("#Rr").val(format(R.re, precision));
    $("#Ri").val(format(R.im, precision));

    if( Z.im < 0 ){ // Capacitative
        SC = -1 / w / Z.im * 1e15;
        PC = Y.im / w * 1e15;
        $("#SC").val(format(SC, precision));
        $("#PC").val(format(PC, precision));
        $("#ST").val("Scap");
        $("#PT").val("Pcap");
    }
    else{
        SC = Z.im / w * 1e12;
        PC = -1 / w / Y.im * 1e12;
        $("#SC").val(format(SC, precision));
        $("#PC").val(format(PC, precision));
        $("#ST").val("Sind");
        $("#PT").val("Pind");
    }
    G = R.abs()
    $("#vswr").html(format((1+G)/(1-G), precision));
    $("#q").html(format(abs(Z.im/Z.re), precision));
}

function calcAdm(){
    precision = 5;
    freq = parseFloat($("#freqi").val()) * 1e9;
    w = 2 * pi * freq;
    Y = complex(parseFloat($("#Areal").val()), parseFloat($("#Aimag").val()));
    Z = divide(1, Y);
    Z0 = complex(parseFloat($("#Nr").val()), parseFloat($("#Ni").val()));
    R = divide(subtract(Z, Z0), add(Z, Z0));
    $("#Ireal").val(format(Z.re, precision));
    $("#Iimag").val(format(Z.im, precision));
    //$("#Areal").val(format(Y.re, precision));
    //$("#Aimag").val(format(Y.im, precision));
    $("#SR").val(format(Z.re, precision));
    $("#PR").val(format(1/Y.re, precision));
    $("#Rr").val(format(R.re, precision));
    $("#Ri").val(format(R.im, precision));

    if( Z.im < 0 ){ // Capacitative
        SC = -1 / w / Z.im * 1e15;
        PC = Y.im / w * 1e15;
        $("#SC").val(format(SC, precision));
        $("#PC").val(format(PC, precision));
        $("#ST").val("Scap");
        $("#PT").val("Pcap");
    }
    else{
        SC = Z.im / w * 1e12;
        PC = -1 / w / Y.im * 1e12;
        $("#SC").val(format(SC, precision));
        $("#PC").val(format(PC, precision));
        $("#ST").val("Sind");
        $("#PT").val("Pind");
    }
    G = R.abs()
    $("#vswr").html(format((1+G)/(1-G), precision));
    $("#q").html(format(abs(Z.im/Z.re), precision));
}

function calcS(){
    precision = 5;
    freq = parseFloat($("#freqi").val()) * 1e9;
    w = 2 * pi * freq;

    if($("#ST").val() == "Scap"){
        Zi = -1 / parseFloat($("#SC").val()) / w * 1e15;
    }
    else{
        Zi = parseFloat($("#SC").val()) * w * 1e-12;
    }
    Z = complex(parseFloat($("#SR").val()), Zi);
    Y = divide(1, Z);
    Z0 = complex(parseFloat($("#Nr").val()), parseFloat($("#Ni").val()));
    R = divide(subtract(Z, Z0), add(Z, Z0));
    $("#Ireal").val(format(Z.re, precision));
    $("#Iimag").val(format(Z.im, precision));
    $("#Areal").val(format(Y.re, precision));
    $("#Aimag").val(format(Y.im, precision));
    //$("#SR").val(format(Z.re, precision));
    $("#PR").val(format(1/Y.re, precision));
    $("#Rr").val(format(R.re, precision));
    $("#Ri").val(format(R.im, precision));

    if( Z.im < 0 ){ // Capacitative
        //SC = -1 / w / Z.im * 1e15;
        PC = Y.im / w * 1e15;
        //$("#SC").val(format(SC, precision));
        $("#PC").val(format(PC, precision));
        //$("#ST").val("Scap");
        $("#PT").val("Pcap");
    }
    else{
        //SC = Z.im / w * 1e12;
        PC = -1 / w / Y.im * 1e12;
        //$("#SC").val(format(SC, precision));
        $("#PC").val(format(PC, precision));
        //$("#ST").val("Sind");
        $("#PT").val("Pind");
    }
    G = R.abs()
    $("#vswr").html(format((1+G)/(1-G), precision));
    $("#q").html(format(abs(Z.im/Z.re), precision));
}

function calcP(){
    precision = 5;
    freq = parseFloat($("#freqi").val()) * 1e9;
    w = 2 * pi * freq;

    if($("#PT").val() == "Pcap"){
        Yi = parseFloat($("#PC").val()) * w * 1e-15;
    }
    else{
        Yi = -1 / parseFloat($("#PC").val()) / w * 1e12;
    }
    Y = complex(1/parseFloat($("#PR").val()), Yi);
    Z = divide(1, Y);
    Z0 = complex(parseFloat($("#Nr").val()), parseFloat($("#Ni").val()));
    R = divide(subtract(Z, Z0), add(Z, Z0));
    $("#Ireal").val(format(Z.re, precision));
    $("#Iimag").val(format(Z.im, precision));
    $("#Areal").val(format(Y.re, precision));
    $("#Aimag").val(format(Y.im, precision));
    $("#SR").val(format(Z.re, precision));
    //$("#PR").val(format(1/Y.re, precision));
    $("#Rr").val(format(R.re, precision));
    $("#Ri").val(format(R.im, precision));

    if( Z.im < 0 ){ // Capacitative
        SC = -1 / w / Z.im * 1e15;
        //PC = Y.im / w * 1e15;
        $("#SC").val(format(SC, precision));
        //$("#PC").val(format(PC, precision));
        $("#ST").val("Scap");
        //$("#PT").val("Pcap");
    }
    else{
        SC = Z.im / w * 1e12;
        //PC = -1 / w / Y.im * 1e12;
        $("#SC").val(format(SC, precision));
        //$("#PC").val(format(PC, precision));
        $("#ST").val("Sind");
        //$("#PT").val("Pind");
    }
    G = R.abs()
    $("#vswr").html(format((1+G)/(1-G), precision));
    $("#q").html(format(abs(Z.im/Z.re), precision));
}

function calcR(){
    precision = 5;
    freq = parseFloat($("#freqi").val()) * 1e9;
    w = 2 * pi * freq;

    Z0 = complex(parseFloat($("#Nr").val()), parseFloat($("#Ni").val()));
    R = complex(parseFloat($("#Rr").val()), parseFloat($("#Ri").val()));

    Z = multiply(Z0, divide(add(1, R), subtract(1, R)));
    Y = divide(1, Z);
    $("#Ireal").val(format(Z.re, precision));
    $("#Iimag").val(format(Z.im, precision));
    $("#Areal").val(format(Y.re, precision));
    $("#Aimag").val(format(Y.im, precision));
    $("#SR").val(format(Z.re, precision));
    $("#PR").val(format(1/Y.re, precision));
    $("#Rr").val(format(R.re, precision));
    $("#Ri").val(format(R.im, precision));

    if( Z.im < 0 ){ // Capacitative
        SC = -1 / w / Z.im * 1e15;
        PC = Y.im / w * 1e15;
        $("#SC").val(format(SC, precision));
        $("#PC").val(format(PC, precision));
        $("#ST").val("Scap");
        $("#PT").val("Pcap");
    }
    else{
        SC = Z.im / w * 1e12;
        PC = -1 / w / Y.im * 1e12;
        $("#SC").val(format(SC, precision));
        $("#PC").val(format(PC, precision));
        $("#ST").val("Sind");
        $("#PT").val("Pind");
    }
    G = R.abs()
    $("#vswr").html(format((1+G)/(1-G), precision));
    $("#q").html(format(abs(Z.im/Z.re), precision));
}

$(document).ready(function(){
    $("#calcRLGC").click(function(){
        Z0 = parseFloat($("#Z0").val());
        length = parseFloat($("#l").val());
        freq = parseFloat($("#freq").val());
        if( $("#S22r").val() == '' ){
            $("#S22r").val($("#S11r").val());
        }
        if( $("#S22i").val() == '' ){
            $("#S22i").val($("#S11i").val());
        }
        if( $("#S12r").val() == '' ){
            $("#S12r").val($("#S21r").val());
        }
        if( $("#S12i").val() == '' ){
            $("#S12i").val($("#S21i").val());
        }
        S11 = complex({r: parseFloat($("#S11r").val()), phi: parseFloat($("#S11i").val()) * pi / 180});
        S12 = complex({r: parseFloat($("#S12r").val()), phi: parseFloat($("#S12i").val()) * pi / 180});
        S21 = complex({r: parseFloat($("#S21r").val()), phi: parseFloat($("#S21i").val()) * pi / 180});
        S22 = complex({r: parseFloat($("#S22r").val()), phi: parseFloat($("#S22i").val()) * pi / 180});

        $("#resRLGC").html(s2rlgc(S11, S12, S21, S22, length * 1e-6, freq * 1e9, Z0));
    });

    $("#calcImp").click(calcImp);
    $("#Ireal").change(calcImp);
    $("#Iimag").change(calcImp);

    $("#calcAdm").click(calcAdm);
    $("#Areal").change(calcAdm);
    $("#Aimag").change(calcAdm);

    $("#calcS").click(calcS);
    $("#SR").change(calcS);
    $("#SC").change(calcS);

    $("#calcP").click(calcP);
    $("#PR").change(calcP);
    $("#PC").change(calcP);

    $("#calcR").click(calcR);
    $("#Rr").change(calcR);
    $("#Ri").change(calcR);

    $("#calcImpConv").click(calcImpConv);
    $("#Sreal").change(calcImpConv);
    $("#Simag").change(calcImpConv);
    $("#Lreal").change(calcImpConv);
    $("#Limag").change(calcImpConv);
    $("#Fconv").change(calcImpConv);
    //$("#simp-input").change(calcSimp);
});

function calcResFreq(){
    $("#res-freq").val(format(1/2/pi/sqrt(parseFloat($("#res-ind").val())*parseFloat($("#res-cap").val())*1e-27)/1e9, 5));
}

function calcResInd(){
    $("#res-ind").val(format(1/4/pi/pi/pow(parseFloat($("#res-freq").val()), 2)/parseFloat($("#res-cap").val())*1e9, 5));
}

function calcResCap(){
    $("#res-cap").val(format(1/4/pi/pi/pow(parseFloat($("#res-freq").val()), 2)/parseFloat($("#res-ind").val())*1e9, 5));
}

function calcSimp(){
    input = $("#simp-input").val();
    inputHistory.push( input );
    currentItem = inputHistory.length;
    $("#simp-input").val("");
    if(input == ""){
        return;
    }
    else if(input == "clean"){
        $("#simp-res").html("");
        return;
    }
    else if(input == "clear"){
        cleanSimp();
        return;
    }
    content = ">>> " + input + "\n";
    try{
        var tmp = parser.evaluate(input).toString();
        if(tmp == "function e(t,r){\"use strict\";if(arguments.length===_&&p(t)&&v(r)){return j.apply(null,arguments)}if(arguments.length===I&&m(t)&&b(r)){return E.apply(null,arguments)}if(arguments.length===q&&h(t)&&x(r)){return S.apply(null,arguments)}if(arguments.length===B&&d(t)&&w(r)){return A.apply(null,arguments)}if(arguments.length===k&&y(t)&&N(r)){return C.apply(null,arguments)}if(arguments.length===z&&g(t)&&O(r)){return T.apply(null,arguments)}return P.apply(null,arguments)}"){
            tmp = "Function defined";
        }
        content += tmp + "\n";
    }
    catch(err){
        content += "Error: " + err.message + "\n";
    }
    $("#simp-res").append(content);
    var height = $("#simp-res")[0].scrollHeight;
    $("#simp-res").scrollTop(height);
}

function cleanSimp(){
    $("#simp-res").html("");
    parser.clear();
    $("#simp-input").val("");
    inputHistory = new Array();
    currentItem = 0;
}

var keyEnter = 13;
var keyUp = 38;
var keyDown = 40;
var inputHistory = new Array();
var tmpInput = '';
var currentItem = 0;
$(document).keydown(function(event){
    var isFocus=$("#simp-input").is(":focus");
    if(isFocus){
        //alert(event.keyCode);
        if(event.keyCode == keyEnter){
            calcSimp();
            return false;
        }
        if(event.keyCode == keyUp){
            if(currentItem != 0){
                if(currentItem == inputHistory.length){
                    tmpInput = $("#simp-input").val();
                }
                currentItem -= 1;
                $("#simp-input").val(inputHistory[currentItem]);
                var l = inputHistory[currentItem].length;
                document.getElementById('simp-input').setSelectionRange(l, l);
            }
            return false;
        }
        if(event.keyCode == keyDown){
            if(currentItem < inputHistory.length - 1){
                currentItem += 1;
                $("#simp-input").val(inputHistory[currentItem]);
                var l = inputHistory[currentItem].length;
                document.getElementById('simp-input').setSelectionRange(l, l);
            }
            else if(currentItem == inputHistory.length - 1){
                currentItem += 1;
                $("#simp-input").val(tmpInput);
            }
            return false;
        }
    }
})

function unitConv(x){
    var y = abs(x);
    if( y <= 1e-18 ){
        return format(x, 5) + ' '
    }
    else if ( y <= 1e-12 ){
        return ( x * 1e15 ).toFixed(2) + ' f'
    }
    else if( y <= 1e-9 ){
        return ( x * 1e12 ).toFixed(2) + ' p'
    }
    else if( y <= 1e-6 ){
        return ( x * 1e9 ).toFixed(2) + ' n'
    }
    else if( y <= 1e-3 ){
        return ( x * 1e6 ).toFixed(2) + ' u'
    }
    else if( y <= 1 ){
        return ( x * 1e3 ).toFixed(2) + ' m'
    }
    else{
        return format(x, 5) + ' '
    }
}

function parseLC(x, w){
    if(x > 0){
        return 'L<br>(' + unitConv(x/w) + 'H)';
    }
    else{
        return 'C<br>(' + unitConv(-1/w/x) + 'F)';
    }
}

function calcImpConv(){
    var output = '<table>'
    var F = parseFloat($("#Fconv").val());
    var w = 2 * pi * F * 1e9;
    var R2 = parseFloat($("#Sreal").val());
    var X2 = parseFloat($("#Simag").val());
    var R1 = parseFloat($("#Lreal").val());
    var X1 = parseFloat($("#Limag").val());

    // type 1
    var XP = (R2*X1 - sqrt(R1*R1*R1*R2 - R1*R1*R2*R2 + R1*R2*X1*X1))/(R1 - R2);
    var XS = (R2*X1 - (R1*R2*X1)/(R1 - R2) + (R2*R2*X1)/(R1 - R2) + (R1*sqrt((-R1)*R2*(-R1*R1 + R1*R2 - X1*X1)))/(R1 - R2) - (R2*sqrt((-R1)*R2*(-R1*R1 + R1*R2 - X1*X1)))/(R1 - R2) + R1*X2)/R1;
    if(!isNaN(XP) && !isNaN(XS)){
        output += '<tr>'
        output += ('<td>Zs*<br>(' + R2.toFixed(2) + '+j*' + X2.toFixed(2) + ')</td>');
        output += ('<td>Series ' + parseLC(XS, w) + '</td>');
        output += ('<td>Shunt ' + parseLC(XP, w) + '</td>');
        output += ('<td>Zl<br>(' + R1.toFixed(2) + '+j*' + X1.toFixed(2) + ')</td>');
        output += '</tr>'
    }

    // type 2
    XP = (R2*X1 + sqrt(R1*R1*R1*R2 - R1*R1*R2*R2 + R1*R2*X1*X1))/(R1 - R2);
    XS = (R2*X1 - (R1*R2*X1)/(R1 - R2) + (R2*R2*X1)/(R1 - R2) - (R1*sqrt((-R1)*R2*(-R1*R1 + R1*R2 - X1*X1)))/(R1 - R2) + (R2*sqrt((-R1)*R2*(-R1*R1 + R1*R2 - X1*X1)))/(R1 - R2) + R1*X2)/R1;
    if(!isNaN(XP) && !isNaN(XS)){
        output += '<tr>'
        output += ('<td>Zs*<br>(' + R2.toFixed(2) + '+j*' + X2.toFixed(2) + ')</td>');
        output += ('<td>Series ' + parseLC(XS, w) + '</td>');
        output += ('<td>Shunt ' + parseLC(XP, w) + '</td>');
        output += ('<td>Zl<br>(' + R1.toFixed(2) + '+j*' + X1.toFixed(2) + ')</td>');
        output += '</tr>'
    }

    // type 3
    XP = (R1*X2 - sqrt((-R1*R1)*R2*R2 + R1*R2*R2*R2 + R1*R2*X2*X2))/(R1 - R2);
    XS = ((-R2)*X1 - R1*X2 + (R1*R1*X2)/(R1 - R2) - (R1*R2*X2)/(R1 - R2) - (R1*sqrt(R1*R2*((-R1)*R2 + R2*R2 + X2*X2)))/(R1 - R2) + (R2*sqrt(R1*R2*((-R1)*R2 + R2*R2 + X2*X2)))/(R1 - R2))/R2;
    if(!isNaN(XP) && !isNaN(XS)){
        output += '<tr>'
        output += ('<td>Zs*<br>(' + R2.toFixed(2) + '+j*' + X2.toFixed(2) + ')</td>');
        output += ('<td>Shunt ' + parseLC(XP, w) + '</td>');
        output += ('<td>Series ' + parseLC(XS, w) + '</td>');
        output += ('<td>Zl<br>(' + R1.toFixed(2) + '+j*' + X1.toFixed(2) + ')</td>');
        output += '</tr>'
    }

    // type 3
    XP = (R1*X2 + sqrt((-R1*R1)*R2*R2 + R1*R2*R2*R2 + R1*R2*X2*X2))/(R1 - R2);
    XS = ((-R2)*X1 - R1*X2 + (R1*R1*X2)/(R1 - R2) - (R1*R2*X2)/(R1 - R2) + (R1*sqrt(R1*R2*((-R1)*R2 + R2*R2 + X2*X2)))/(R1 - R2) - (R2*sqrt(R1*R2*((-R1)*R2 + R2*R2 + X2*X2)))/(R1 - R2))/R2;
    if(!isNaN(XP) && !isNaN(XS)){
        output += '<tr>'
        output += ('<td>Zs*<br>(' + R2.toFixed(2) + '+j*' + X2.toFixed(2) + ')</td>');
        output += ('<td>Shunt ' + parseLC(XP, w) + '</td>');
        output += ('<td>Series ' + parseLC(XS, w) + '</td>');
        output += ('<td>Zl<br>(' + R1.toFixed(2) + '+j*' + X1.toFixed(2) + ')</td>');
        output += '</tr>'
    }

    output += '</table>'
    $("#resImpConv").html(output);
}

</script>
<style type="text/css">
    input {
        text-align:center;
        vertical-align:middle
    }
    #simp-res {
        font-family:"Courier New";
        font-weight:bold;
        background-color: #F1F1F1;
        line-height: normal;
        border:none;
        width:100%;
    }
    #simp-input {
        font-family:"Courier New";
        font-weight:bold;
    }
</style>

    <div id="simp-res-div">
        <textarea id="simp-res" readonly="readonly" rows="16"></textarea>
    </div>
    <input type="text" id="simp-input" value size="30" style="text-align:left">
    <button type="button" onclick="calcSimp()">Calculate</button>
    <button type="button" onclick="cleanSimp()">Clear</button>
<h2>Resonance</h2>
<table>
    <tr>
        <td>Frequency [GHz]</td>
        <td><input type="text" id="res-freq" value="28" size="10" onclick="this.select()"></td>
        <td><button type="button" onclick="calcResFreq()">Calculate This</button></td>
    </tr>
    <tr>
        <td>Inductance [pH]</td>
        <td><input type="text" id="res-ind" value="200" size="10" onclick="this.select()"></td>
        <td><button type="button" onclick="calcResInd()">Calculate This</button></td>
    </tr>
    <tr>
        <td>Capacitance [fF]</td>
        <td><input type="text" id="res-cap" value="160" size="10" onclick="this.select()"></td>
        <td><button type="button" onclick="calcResCap()">Calculate This</button></td>
    </tr>
</table>

<h2>Impedance Conversion</h2>
<table>
    <tr>
        <td>Frequency [GHz]</td>
        <td><input type="text" id="freqi" value="28" size="10" onclick="this.select()"></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>Impedance</td>
        <td><input type="text" id="Ireal" value="50" size="10" onclick="this.select()"></td>
        <td>+j*</td>
        <td><input type="text" id="Iimag" value="0" size="10" onclick="this.select()"></td>
        <td><button type="button" id="calcImp">Calculate</button></td>
    </tr>
    <tr>
        <td>Admittance</td>
        <td><input type="text" id="Areal" value="0.02" size="10" onclick="this.select()"></td>
        <td>+j*</td>
        <td><input type="text" id="Aimag" value="0" size="10" onclick="this.select()"></td>
        <td><button type="button" id="calcAdm">Calculate</button></td>
    </tr>
    <tr>
        <td>Series</td>
        <td><input type="text" id="SR" value="50" size="10" onclick="this.select()"></td>
        <td>+</td>
        <td>
            <input type="text" id="SC" value="0" size="10" onclick="this.select()">
            <select id="ST">
                <option value="Scap">fF</option>
                <option value="Sind">pH</option>
            </select>
        </td>
        <td><button type="button" id="calcS">Calculate</button></td>
    </tr>
    <tr>
        <td>Shunt</td>
        <td><input type="text" id="PR" value="50" size="10" onclick="this.select()"></td>
        <td>||</td>
        <td>
            <input type="text" id="PC" value="0" size="10" onclick="this.select()">
            <select id="PT">
                <option value="Pcap">fF</option>
                <option value="Pind">pH</option>
            </select></td>
        <td><button type="button" id="calcP">Calculate</button></td>
    </tr>
    <tr>
        <td>Z0</td>
        <td><input type="text" id="Nr" value="50" size="10" onclick="this.select()"></td>
        <td>+j*</td>
        <td><input type="text" id="Ni" value="0" size="10" onclick="this.select()"></td>
        <td></td>
    </tr>
    <tr>
        <td>Reflection</td>
        <td><input type="text" id="Rr" value="0" size="10" onclick="this.select()"></td>
        <td>+j*</td>
        <td><input type="text" id="Ri" value="0" size="10" onclick="this.select()"></td>
        <td><button type="button" id="calcR">Calculate</button></td>
    </tr>
    <tr>
        <td>VSWR</td>
        <td id="vswr"></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>Q</td>
        <td id="q"></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table>

<h2>Impedance Matching</h2>
<table>
    <tr>
        <td>Frequency [GHz]</td>
        <td><input type="text" id="Fconv" value="28" size="10" onclick="this.select()"></td>
    </tr>
    <tr>
        <td>Zs*</td>
        <td><input type="text" id="Sreal" value="50" size="10" onclick="this.select()"></td>
        <td>+j*</td>
        <td><input type="text" id="Simag" value="0" size="10" onclick="this.select()"></td>
    </tr>
    <tr>
        <td>Zl</td>
        <td><input type="text" id="Lreal" value="50" size="10" onclick="this.select()"></td>
        <td>+j*</td>
        <td><input type="text" id="Limag" value="0" size="10" onclick="this.select()"></td>
    </tr>
</table>
<button type="button" id="calcImpConv">Calculate</button>
<p id="resImpConv"></p>

<h2>S to RLGC</h2>
<table>
    <tr>
        <td>Z0 [Ohm]</td>
        <td><input type="text" id="Z0" value="50" size="10" onclick="this.select()"></td>
    </tr>
    <tr>
        <td>Length [um]</td>
        <td><input type="text" id="l" value="200" size="10" onclick="this.select()"></td>
    </tr>
    <tr>
        <td>Frequency [GHz]</td>
        <td><input type="text" id="freq" value="28" size="10" onclick="this.select()"></td>
    </tr>
    <tr>
        <td>S11,mag</td>
        <td><input type="text" id="S11r" value="0.012" size="10" onclick="this.select()">
        </td><td>S11,pha</td>
        <td><input type="text" id="S11i" value="-115.7" size="10" onclick="this.select()"></td>
    </tr>
    <tr>
        <td>S21,mag</td>
        <td><input type="text" id="S21r" value="0.985" size="10" onclick="this.select()">
        </td><td>S21,pha</td>
        <td><input type="text" id="S21i" value="-14.3" size="10" onclick="this.select()"></td>
    </tr>
    <tr>
        <td>S12,mag</td>
        <td><input type="text" id="S12r" size="10" onclick="this.select()">
        </td><td>S12,pha</td>
        <td><input type="text" id="S12i" size="10" onclick="this.select()"></td>
    </tr>
    <tr>
        <td>S22,mag</td>
        <td><input type="text" id="S22r" size="10" onclick="this.select()">
        </td><td>S22,pha</td>
        <td><input type="text" id="S22i" size="10" onclick="this.select()"></td>
    </tr>
</table>
<button type="button" id="calcRLGC">Calculate</button>
<p id="resRLGC"></p>
</html>


    </div>

    
    
    
      
  <div class="popular-posts-header">Related Posts</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      
      
      <div class="popular-posts-title"><a href="\archives\df4c5938\lumped-element-circuit.html" rel="bookmark">Lumped-Element Circuit</a></div>
      
    </li>
  
    <li class="popular-posts-item">
      
      
      <div class="popular-posts-title"><a href="\archives\c49a4fe0\Linux-command.html" rel="bookmark">常用Linux命令</a></div>
      
    </li>
  
    <li class="popular-posts-item">
      
      
      <div class="popular-posts-title"><a href="\archives\1e678d19\ads-inductor-pcell.html" rel="bookmark">使用ADS创建电感Pcell</a></div>
      
    </li>
  
    <li class="popular-posts-item">
      
      
      <div class="popular-posts-title"><a href="\archives\97db45b0\ads-mom-pcell.html" rel="bookmark">使用ADS创建MOM电容Pcell</a></div>
      
    </li>
  
    <li class="popular-posts-item">
      
      
      <div class="popular-posts-title"><a href="\archives\d99e7696\automatic-simulation-with-ocean-script.html" rel="bookmark">Automatic Simulation with Ocean Script</a></div>
      
    </li>
  
  </ul>

        
      
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Triblemany</li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://triblemany.github.io/archives/7ca3cc72/ic-calculator.html" title="IC Calculator">https://triblemany.github.io/archives/7ca3cc72/ic-calculator.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li>
</ul>
</div>

      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/Scripts/" rel="tag"># Scripts</a>
            
              <a href="/tags/RF/" rel="tag"># RF</a>
            
              <a href="/tags/Analog/" rel="tag"># Analog</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/archives/df4c5938/lumped-element-circuit.html" rel="next" title="Lumped-Element Circuit">
                  <i class="fa fa-chevron-left"></i> Lumped-Element Circuit
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/archives/b229b9f3/class-e-power-amplifier.html" rel="prev" title="Class E Power Amplifier">
                  Class E Power Amplifier <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          
    
    
  <div class="comments" id="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  
  

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc" data-target="post-toc-wrap">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview" data-target="site-overview-wrap">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc">
            <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Simple-Calculator-with-mathjs"><span class="nav-number">1.</span> <span class="nav-text">Simple Calculator with mathjs</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#null"><span class="nav-number">1.1.</span> <span class="nav-text">Resonance</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#null"><span class="nav-number">1.2.</span> <span class="nav-text">Impedance Conversion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#null"><span class="nav-number">1.3.</span> <span class="nav-text">Impedance Matching</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#null"><span class="nav-number">1.4.</span> <span class="nav-text">S to RLGC</span></a></li></ol></li></ol></div>
          </div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/avatar.jpg"
      alt="Triblemany">
  <p class="site-author-name" itemprop="name">Triblemany</p>
  <div class="site-description motion-element" itemprop="description"></div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">34</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">tags</span>
        </a>
      </div>
    
  </nav>



        </div>
      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2024</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Triblemany</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="Symbols count total">329k</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a></div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a></div>

        












        
      </div>
    </footer>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.3.0"></script><script src="/js/motion.js?v=7.3.0"></script>
<script src="/js/schemes/muse.js?v=7.3.0"></script>

<script src="/js/next-boot.js?v=7.3.0"></script>



  








  <script src="/js/local-search.js?v=7.3.0"></script>














  

  

  

  


  
  <script src="/js/post-details.js?v=7.3.0"></script>


<script>
  function disqus_config() {
    this.page.url = "https://triblemany.github.io/archives/7ca3cc72/ic-calculator.html";
    this.page.identifier = "archives/7ca3cc72/ic-calculator.html";
    this.page.title = 'IC Calculator';};
  function loadComments() {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://triblemany.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  }
    (function() {
      var offsetTop = document.getElementById('comments').offsetTop - window.innerHeight;
      if (offsetTop <= 0) {
        // load directly when there's no a scrollbar
        window.addEventListener('load', loadComments, false);
      } else {
        var disqus_scroll = () => {
          // offsetTop may changes because of manually resizing browser window or lazy loading images.
          var offsetTop = document.getElementById('comments').offsetTop - window.innerHeight;
          var scrollTop = window.scrollY;

          // pre-load comments a bit? (margin or anything else)
          if (offsetTop - scrollTop < 60) {
            window.removeEventListener('scroll', disqus_scroll);
            loadComments();
          }
        };
        window.addEventListener('scroll', disqus_scroll);
      }
    })();
  
</script>

</body>
</html>
