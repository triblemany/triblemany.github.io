<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/logo3-apple-touch-icon.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo-32x32.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo-16x16.png?v=7.3.0">
  <link rel="mask-icon" href="/images/logo3.svg?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"left","display":"hide","offset":12,"onmobile":true},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: true,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta name="description" content="This article details the structures of basic mos amplifiers.">
<meta name="keywords" content="RFIC,Transistor">
<meta property="og:type" content="article">
<meta property="og:title" content="MOS Amplifier Structures">
<meta property="og:url" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier.html">
<meta property="og:site_name" content="Triblemany">
<meta property="og:description" content="This article details the structures of basic mos amplifiers.">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200126194424008.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200126202213384.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200126203017127.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200126231209175.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127194136167.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127195446658.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127200332588.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127201302537.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127202233541.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127205355566.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127210029545.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127211148004.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127211858893.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127215157365.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127215215285.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127221538415.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127221247153.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200127222015493.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200128104210895.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200128110418704.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200201103952034.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200201151018992.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200201154607068.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200201155439190.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200201162743936.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200201163246921.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200201165625279.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200201171030851.png">
<meta property="og:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200201172947070.png">
<meta property="og:updated_time" content="2020-02-04T14:42:13.377Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MOS Amplifier Structures">
<meta name="twitter:description" content="This article details the structures of basic mos amplifiers.">
<meta name="twitter:image" content="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier/image-20200126194424008.png">
  <link rel="canonical" href="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>MOS Amplifier Structures | Triblemany</title>
  <meta name="generator" content="Hexo 3.9.0">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146837898-1"></script>
  <script>
    var host = window.location.hostname;
    if (host !== "localhost" || !true) {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-146837898-1');
    }
  </script>








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Triblemany</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
      </li>
    
  </ul>

    

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-wrapper">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content page-post-detail">
            

  <div id="posts" class="posts-expand">
    

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Triblemany">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Triblemany">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">MOS Amplifier Structures

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2020-01-30 21:27:06" itemprop="dateCreated datePublished" datetime="2020-01-30T21:27:06+08:00">2020-01-30</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-04 22:42:13" itemprop="dateModified" datetime="2020-02-04T22:42:13+08:00">2020-02-04</time>
              </span>
            
          

          
          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
              
                <span class="post-meta-item-text">Symbols count in article: </span>
              
              <span>9.8k</span>
            </span>
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>This article details the structures of basic mos amplifiers.<br><a id="more"></a></p>
<h2 id="Common-Source"><a href="#Common-Source" class="headerlink" title="Common Source"></a>Common Source</h2><h3 id="CS-with-Resistor-Load"><a href="#CS-with-Resistor-Load" class="headerlink" title="CS with Resistor Load"></a>CS with Resistor Load</h3><p><img src="transistor-amplifier/image-20200126194424008.png" alt="Common Source Amplifier" style="zoom:50%;"></p>
<p>In saturation mode, the voltage gain is</p>
<script type="math/tex; mode=display">
\begin{aligned}
A_v&=-R_D\mu_nC_{ox}\frac{W}{L}(V_{in}-V_{TH})\\
&=-g_mR_D
\end{aligned}</script><p>In triode mode, the voltage gain is </p>
<script type="math/tex; mode=display">
\begin{aligned}
A_v&=\frac{-\mu_nC_{ox}(W/L)R_DV_{out}}{1+\mu_nC_{ox}(W/L)R_D(V_{in}-V_{TH}-V_{out})}
\end{aligned}</script><p>which reaches maximal when $V_{out}=V_{in}-V_{TH}$.</p>
<h3 id="CS-with-Diode-Load-Cascode"><a href="#CS-with-Diode-Load-Cascode" class="headerlink" title="CS with Diode Load (Cascode)"></a>CS with Diode Load (Cascode)</h3><p>A diode can be realized by connecting the gate and drain of a transistor</p>
<p><img src="transistor-amplifier\image-20200126202213384.png" alt="MOS as Diode"></p>
<p>In that case, the equivalent output resistance is</p>
<script type="math/tex; mode=display">
r_{eq}=\frac{1}{g_m+g_{mb}}||r_o</script><p>From a large-signal perspective, a diode act like a &quot;square root&quot; operator.</p>
<p><img src="transistor-amplifier\image-20200126203017127.png" alt="CS with Diode Load"></p>
<p>The voltage gain of a CS stage with diode load is</p>
<script type="math/tex; mode=display">
\begin{aligned}
A_v&=-g_{m1}\left(\frac{1}{g_{m2}+g_{mb2}}||r_{o1}||r_{o2}\right)\\
&\approx-\sqrt{\frac{(W/L)_1}{(W/L)_2}}\frac{1}{1+\eta}
\end{aligned}</script><p>where $\eta=g_{mb2}/g_{m2}$</p>
<p>The working state of this configuration is</p>
<ol>
<li>$V_{in}&lt;V_{TH1}, V_{out}\approx V_{dd}-V_{TH2}$, M1 off, M2 near cut-off</li>
<li>$V_{TH1}&lt;V_{in}&lt;V_{out}+V_{TH1}$, M1 saturation, M2 saturation, linear</li>
<li>$V_{out}+V_{TH1}&lt;V_{in}$, M1 diode, M2 saturation</li>
</ol>
<p>Strong input device and weak load device can lead to high gain, yet the voltage swing is severely limited.</p>
<h3 id="CS-with-Current-Source-Load"><a href="#CS-with-Current-Source-Load" class="headerlink" title="CS with Current-Source Load"></a>CS with Current-Source Load</h3><p>Assume that M2 is operating in saturation region.</p>
<p><img src="transistor-amplifier\image-20200126231209175.png" alt="CS with Current Source Load"></p>
<p>The voltage gain is</p>
<script type="math/tex; mode=display">
A_v=-g_{m1}(r_{o1}||r_{o2})</script><h3 id="CS-with-Active-Load"><a href="#CS-with-Active-Load" class="headerlink" title="CS with Active Load"></a>CS with Active Load</h3><p><img src="transistor-amplifier\image-20200127194136167.png" alt="CS with Active Load"></p>
<p>The voltage gain is</p>
<script type="math/tex; mode=display">
A_v=-(g_{m1}+g_{m2})(r_{o1}||r_{o2})</script><p>This topology is sensitive to PVT variation due to $V_{GS1}+V_{GS2}=V_{DD}$. Still, it would amplify supply noise, the gain is</p>
<script type="math/tex; mode=display">
\frac{V_{out}}{V_{DD}}=\left(g_{m2}+\frac{1}{r_{o2}}\right)(r_{o1}||r_{o2})</script><h3 id="CS-with-Triode-Load"><a href="#CS-with-Triode-Load" class="headerlink" title="CS with Triode Load"></a>CS with Triode Load</h3><p>Assume that M2 is operating in deep triode region and behaves as a resistor ($V_b$ is very close to $V_{DD}$).</p>
<p><img src="transistor-amplifier\image-20200127195446658.png" alt="CS with Triode Load"></p>
<p>The voltage gain is</p>
<script type="math/tex; mode=display">
A_v=-g_{m1}(r_{o1}||R_{on2})\\
R_{on2}=\frac{1}{\mu_pC_{ox}\frac{W}{L}(V_{DD}-V_{b}-|V_{THP}|)}</script><p>This circuit is difficult to provide bias with consideration to PVT variation. However, as compared to diode counterpart, it has no output voltage headroom (i.e. $V_{out,max}=V_{DD}$)</p>
<h3 id="CS-with-Source-Degeneration"><a href="#CS-with-Source-Degeneration" class="headerlink" title="CS with Source Degeneration"></a>CS with Source Degeneration</h3><p>Like diode load, source degeneration can be employed to enhance the linearity.</p>
<p><img src="transistor-amplifier\image-20200127200332588.png" alt="CS with Source Degeneration"></p>
<script type="math/tex; mode=display">
\begin{aligned}
A_{v}&=\frac{-g_mR_D}{1+g_mR_S}\\
&=-\frac{R_D}{\frac{1}{g_m}+R_S}
\end{aligned}</script><p>This can be explained as &quot;the resistance seen at the drain&quot; divided by &quot;the total resistance in the source path&quot;.</p>
<p><img src="transistor-amplifier\image-20200127201302537.png" alt="CS with Source Degeneration, Small Signal"></p>
<script type="math/tex; mode=display">
G_m=\frac{g_mr_o}{R_S+[1+(g_m+g_{mb})R_S]r_o}</script><ul>
<li>When $V_{in}$ is low, $1/g_m\gg R_s, G_m\approx g_m$</li>
<li>For large $V_{in}$, $1/g_m\ll R_s, G_m\approx 1/R_s$</li>
</ul>
<p><img src="transistor-amplifier\image-20200127202233541.png" alt="CS with Source Degeneration, Large Signal"></p>
<p>As depicted from the figure, the large signal gain is relatively smooth with source degeneration.</p>
<p>The output impedance is</p>
<script type="math/tex; mode=display">
R_{out}=[1+(g_m+g_{mb})R_S]r_O+R_S</script><p><img src="transistor-amplifier\image-20200127205355566.png" alt="CS with Source Degeneration, Small Signal, Detailed"></p>
<p>The gain can be written as </p>
<script type="math/tex; mode=display">
\begin{aligned}
A_v&=\frac{-g_mr_OR_D}{R_D+R_S+r_O+(g_m+g_{mb})R_Sr_O}\\
&=G_m\cdot(R_{out}||R_D)
\end{aligned}</script><p><img src="transistor-amplifier\image-20200127210029545.png" alt="Lemma for Calculating Gm"></p>
<h2 id="Source-Follower"><a href="#Source-Follower" class="headerlink" title="Source Follower"></a>Source Follower</h2><p><img src="transistor-amplifier\image-20200127211148004.png" alt="Source Follower"></p>
<p>Source follower can act like a buffer. It offers high input resistance and low output resistance.</p>
<script type="math/tex; mode=display">
\begin{aligned}
A_v&=\frac{g_mR_S}{1+(g_m+g_{mb})R_S}\\
&=\frac{(\frac{1}{g_{mb}}||R_S)}{\frac{1}{g_m}+(\frac{1}{g_{mb}}||R_S)}\\
&=\frac{R_{eq}}{\frac{1}{g_m}+R_{eq}}
\end{aligned}</script><p>With a current source rather than a resistor as load, the linearity can be improved because $V_{GS}$ will be fixed for a fixed $I_d$.</p>
<p><img src="transistor-amplifier\image-20200127211858893.png" alt="Source Follower with Current Source"></p>
<script type="math/tex; mode=display">
R_{out}=\frac{1}{g_m+g_{mb}}</script><h2 id="Common-Gate"><a href="#Common-Gate" class="headerlink" title="Common Gate"></a>Common Gate</h2><p><img src="transistor-amplifier\image-20200127215157365.png" alt="Common Gate"></p>
<p><img src="transistor-amplifier\image-20200127215215285.png" alt="Common Gate, Large Signal"></p>
<script type="math/tex; mode=display">
A_v=(g_m+g_{mb})R_D\\
R_{in}=\frac{1}{g_m+g_{mb}}</script><p>A more detailed calculation of Av reveals</p>
<p><img src="transistor-amplifier\image-20200127221538415.png" alt="Common Gate, Small Signal"></p>
<script type="math/tex; mode=display">
A_v=\frac{(g_m+g_{mb})r_o+1}{r_o+(g_m+g_{mb})r_oR_S+R_S+R_D}R_D</script><p>For a more detailed calculation of Rin</p>
<p><img src="transistor-amplifier\image-20200127221247153.png" alt="Common Gate, Input Impedance"></p>
<script type="math/tex; mode=display">
R_{in}=\frac{R_D+r_o}{1+(g_m+g_{mb})r_o}\\
R_{out}=\{[1+(g_m+g_{mb})r_o]R_s+r_o\}||R_D</script><p>The MOS can transform impedance <em>up</em> from source to drain, or <em>down</em> from drain to source.</p>
<p><img src="transistor-amplifier\image-20200127222015493.png" alt="Common Gate, Impedance Transformation"></p>
<h2 id="Cascode"><a href="#Cascode" class="headerlink" title="Cascode"></a>Cascode</h2><p>For both MOS to be in saturation</p>
<script type="math/tex; mode=display">
V_{out} \ge (V_{GS1}-V_{TH1})+(V_{GS2}-V_{TH2})</script><p>The large signal operating mode is as follows:</p>
<ul>
<li>For $V_{in}&lt;V_{TH1}$, M1 off, M2 off, $V_{out}=V_{DD}$</li>
<li>For $V_{in}&gt;V_{TH1}$, M1 saturation, M2 saturation</li>
<li>For sufficiently large $V_{in}$, two occasions can occur<ul>
<li>M1 enter triode region first</li>
<li>M2 enter triode region first</li>
</ul>
</li>
</ul>
<p>Neglecting channel length modulation effect, Cascode amplifier has gain of </p>
<script type="math/tex; mode=display">
A_v=-G_{m}R_{out}\\
R_{out}=[1+(g_{m2}+g_{mb2})r_{o2}]r_{o1}+r_{o2}</script><p>Cascode can reduce mismatch because</p>
<p><img src="transistor-amplifier\image-20200128104210895.png" alt="Cascode, Sensitivity to VDD Noise"></p>
<p>In the first case</p>
<script type="math/tex; mode=display">
\Delta I_D=\frac{1}{2}\mu_nC_{ox}\frac{W}{L}(V_b-V_{TH})^2(\lambda\Delta V)</script><p>Instead, in the second case</p>
<script type="math/tex; mode=display">
V_{PQ}=\Delta V\frac{r_{o1}||\frac{1}{g_{m3}+g_{mb3}}}{r_{o3}+(r_{o1}||\frac{1}{g_{m3}+g_{mb3}})}\\
\Delta I_D=\frac{1}{2}\mu_nC_{ox}\frac{W}{L}(V_b-V_{TH})^2\frac{\lambda\Delta V}{(g_{m3}+g_{mb3})r_{o3}}</script><p>Folded Cascode is as follows:</p>
<p><img src="transistor-amplifier\image-20200128110418704.png" alt="Folded Cascode"></p>
<ul>
<li>Higher DC consumption for comparable performance</li>
</ul>
<h2 id="Miller-Effect"><a href="#Miller-Effect" class="headerlink" title="Miller Effect"></a>Miller Effect</h2><p><img src="transistor-amplifier\image-20200201103952034.png" alt="Miller Effect Illustration"></p>
<p>The current flowing from X to Y is</p>
<script type="math/tex; mode=display">
\frac{V_X-V_Y}{Z}=\frac{V_X}{Z_1}</script><p>Therefore</p>
<script type="math/tex; mode=display">
Z_1=\frac{Z}{1-\frac{V_Y}{V_x}}=\frac{Z}{1-A_v}</script><p>Similarly</p>
<script type="math/tex; mode=display">
Z_2=\frac{Z}{1-\frac{V_Y}{V_X}}=\frac{Z}{1-1/A_v}</script><p><strong>Attention:</strong></p>
<ul>
<li>Only actual $A_v$ at the frequency of interest may be used to accurately predict the input impedance, but low-frequency $A_v$ is useful for approximation (it may eliminate zeros and predict additional poles).</li>
<li>Since the reverse gain is not necessarily $1/A_v$ (as in the case of CG), it cannot be used to calculate the output impedance directly. Instead, a voltage source should be connected at the output node to test the reverse gain, and  that result be used to calculate the impedance.</li>
<li>Trans-impedance Z must present in the process of calculating $A_v$.</li>
</ul>
<h2 id="Frequency-Response"><a href="#Frequency-Response" class="headerlink" title="Frequency Response"></a>Frequency Response</h2><h3 id="Association-of-Poles-with-Nodes"><a href="#Association-of-Poles-with-Nodes" class="headerlink" title="Association of Poles with Nodes"></a>Association of Poles with Nodes</h3><p>We can associate each pole with one node of the circuit. It is not always true, but affords an intuitive approach to the estimation of the transfer function.</p>
<p>General Formula</p>
<script type="math/tex; mode=display">
A_v(s)=A_v(0)\frac{1}{(1+sR_1C_1)(1+sR_2C_2)...}</script><h3 id="Common-Source-1"><a href="#Common-Source-1" class="headerlink" title="Common Source"></a>Common Source</h3><p><img src="transistor-amplifier/image-20200201151018992.png" alt="Common Source, Frequency Response"></p>
<p>Poles can be estimated as</p>
<script type="math/tex; mode=display">
\omega_{in}=\frac{1}{R_S[C_{GS}+(1+g_mR_D)C_{GD}]}\\
\omega_{out}=\frac{1}{R_D(C_{DB}+C_{GD})}</script><p>and the gain is</p>
<script type="math/tex; mode=display">
A_v(s)=\frac{-g_mR_D}{\left(1+\frac{s}{\omega_{in}}\right)\left(1+\frac{s}{\omega_{out}}\right)}</script><p>A direct analysis shows</p>
<script type="math/tex; mode=display">
A_v(s)=\frac{R_D(sC_{GD}-g_m)}{\xi s^2+\varepsilon s+1}\\
\xi=R_sR_D(C_{GS}C_{GD}+C_{GS}C_{DB}+C_{GD}C_{DB})\\
\varepsilon=R_S(1+g_mR_D)C_{GD}+R_SC_{GS}+R_D(C_{GD}+C_{DB})</script><p>The denominator can be written as</p>
<script type="math/tex; mode=display">
\begin{aligned}
D&=\left(\frac{s}{\omega_{p1}}+1\right)\left(\frac{s}{\omega_{p2}}+1\right)\\
&=\frac{s^2}{\omega_{p1}\omega_{p2}}+\left(\frac{1}{\omega_{p1}}+\frac{1}{\omega_{p2}}\right)s+1
\end{aligned}</script><p>Further assume that $1/\omega_{p2}\ll1/\omega_{p1}$, we have</p>
<script type="math/tex; mode=display">
\omega_{p1}=\frac{1}{\varepsilon}\approx\omega_{in}\\
\omega_{p2}=\frac{1}{\omega_{p1}\xi}</script><p>A zero exists as</p>
<script type="math/tex; mode=display">
\omega_z=\frac{g_m}{C_{GD}}>\frac{g_m}{C_{GS}}=f_T</script><p>Signal cancellation model is as follows:</p>
<p><img src="transistor-amplifier\image-20200201154607068.png" alt="Signal Cancellation"></p>
<h3 id="Source-Follower-1"><a href="#Source-Follower-1" class="headerlink" title="Source Follower"></a>Source Follower</h3><p><img src="transistor-amplifier/image-20200201155439190.png" alt="Source Follower, Frequency Response"></p>
<p>Strong interaction through $C_{GS}$ makes it difficult to associate a pole with each node in the circuit. Calculation shows</p>
<script type="math/tex; mode=display">
A_v(s)=\frac{g_m+C_{GS}s}{\xi s^2+\varepsilon s+g_m}\\
\xi=R_s(C_{GS}C_{L}+C_{GS}C_{GD}+C_{GD}C_{L})\\
\varepsilon=g_mR_SC_{GD}+C_{L}+C_{GS}</script><p>Therefore</p>
<script type="math/tex; mode=display">
\omega_{p1}\approx\frac{g_m}{\varepsilon}</script><p>Note if $C_L=0$, the previous formula reduces to</p>
<script type="math/tex; mode=display">
A_v(s)=\frac{1}{1+R_SC_{GD}s}</script><p>In this case, only one pole at the input presents. We say $C_{GS}$ is bootstrapped by the source follower.</p>
<p>Neglecting channel length modulation, the input impedance is</p>
<script type="math/tex; mode=display">
\begin{aligned}
Z_{in}&=\frac{1}{C_{GS}s}+\frac{1}{C_{GD}s}+\left(1+\frac{g_m}{C_{GS}s}\right)\frac{1}{g_{mb}+C_Ls}\\
&\approx\frac{1}{C_{GD}s}+\frac{1}{C_{GS}s}\left(1+\frac{g_m}{g_{mb}}\right)+\frac{1}{g_{mb}} &\text{low}\ f\\
&\approx\frac{1}{C_{GD}s}+\frac{1}{C_{GS}s}+\frac{1}{C_{L}s}+\frac{g_m}{C_{GS}C_{L}s^2} &\text{high}\ f
\end{aligned}</script><p>It presents negative real input impedance at high frequency, thus is possibly unstable.</p>
<p>Output impedance is</p>
<p><img src="transistor-amplifier\image-20200201162743936.png" alt="Source Follower, Frequency Response, Zout"></p>
<script type="math/tex; mode=display">
\begin{aligned}
Z_{out}&=\frac{R_SC_{GS}s+1}{g_m+C_{GS}s}\\
&\approx 1/g_m &\text{low}\ f\\
&\approx R_s &\text{high}\ f\\
\end{aligned}</script><p>Figure (c) is more common, as when operated as buffer, $Z_{out}&lt;Z_{in}$. It can be modelled as</p>
<p><img src="transistor-amplifier/image-20200201163246921.png" alt="Source Follower, Output Impedance Model"></p>
<script type="math/tex; mode=display">
R_2=1/g_m\\
R_1=R_S-1/g_m\\
L=\frac{C_{GS}}{g_m}\left(R_S-\frac{1}{g_m}\right)</script><p>Thus, source follower can be used to realize inductors.</p>
<h3 id="Common-Gate-1"><a href="#Common-Gate-1" class="headerlink" title="Common Gate"></a>Common Gate</h3><p><img src="transistor-amplifier/image-20200201165625279.png" alt="Common Gate, Frequency Response"></p>
<p>We have</p>
<script type="math/tex; mode=display">
\omega_{in}=\frac{1}{(C_{GS}+C_{SB})(R_S||\frac{1}{g_m+g_{mb}})}\\
\omega_{out}=\frac{1}{(C_{GD}+C_{DB})R_D}\\
A_v(s)=\frac{(g_m+g_{mb})R_D}{1+(g_m+g_{mb})R_S}\cdot\frac{1}{\left(1+\frac{s}{\omega_{in}}\right)\left(1+\frac{s}{\omega_{out}}\right)}</script><p>It has no Miller multiplication of capacitances, thus have wider bandwidth.</p>
<h3 id="Cascode-1"><a href="#Cascode-1" class="headerlink" title="Cascode"></a>Cascode</h3><p><img src="transistor-amplifier\image-20200201171030851.png" alt="Cascode, Frequency Response"></p>
<p>The pole associated with node A is</p>
<script type="math/tex; mode=display">
\omega_{p,A}=\frac{1}{R_S\left[C_{GS1}+\left(1+\frac{g_{m1}}{g_{m2}+g_{mb2}}\right)C_{GD1}\right]}</script><p>The pole associated with node X is</p>
<script type="math/tex; mode=display">
\omega_{p,X}=\frac{g_{m2}+g_{mb2}}{\left(1+\frac{g_{m2}+g_{mb2}}{g_{m1}}\right)C_{GD1}+C_{DB1}+C_{SB2}+C_{GS2}}</script><p>The pole associated with node Y is</p>
<script type="math/tex; mode=display">
\omega_{p,Y}=\frac{1}{R_D(C_{DB2}+C_{L}+C_{GD2})}</script><h3 id="Extra-Element-Theorem"><a href="#Extra-Element-Theorem" class="headerlink" title="Extra Element Theorem"></a>Extra Element Theorem</h3><p><img src="transistor-amplifier\image-20200201172947070.png" alt="Extra Element Theorem"></p>
<h3 id="Zero-Value-Time-Constant-Method"><a href="#Zero-Value-Time-Constant-Method" class="headerlink" title="Zero Value Time Constant Method"></a>Zero Value Time Constant Method</h3><p>The dominant pole of a circuit equals to the sum of all zero value time constants, each of which is obtained by setting input voltage and other capacitance to zero and computing the product of the capacitance of interest and its corresponding equivalent resistance. </p>
<p><em>Proof</em></p>
<ol>
<li><p>The dominant pole is the coefficient of $s$ in the denominator.</p>
<p>Denominator can be written as</p>
<script type="math/tex; mode=display">
D(s)=\left(1+\frac{s}{\omega_{p1}}\right)\left(1+\frac{s}{\omega_{p2}}\right)...\left(1+\frac{s}{\omega_{pn}}\right)</script><p>Therefore, the coefficient of $s$ is $\omega_{p1}^{-1}+\omega_{p2}^{-1}+...+\omega_{pn}^{-1}$, which reduce to $\omega_{p1}^{-1}$ with dominant pole assumption.</p>
</li>
<li><p>The coefficient of $s$ in the denominator equals to the sum of all zero-value time constants.</p>
<p>Since the coefficient of $s$ has a time dimension, we can write it as $B_s=R_1C_1+R_2C_2+...+R_nC_n$, where $C_1-C_n$ denote real capacitors, and $R_1-R_n$ are unknown. With $C_2-C_n$ set to 0, the order of the system reduces to 1, and therefore $R_1$ is the resistance seen by $C_1$.</p>
</li>
</ol>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li>Behzad Razavi. <em>Design of analog CMOS integrated circuits</em>.</li>
</ol>

    </div>

    
    
    
      
  <div class="popular-posts-header">Related Posts</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      
      
      <div class="popular-posts-title"><a href="\archives\d4a45699\modeling-of-transistors.html" rel="bookmark">Modeling of Transistors in Small-Signal Condition</a></div>
      
    </li>
  
    <li class="popular-posts-item">
      
      
      <div class="popular-posts-title"><a href="\archives\6eefa2f5\mosfet.html" rel="bookmark">Basic Theory of MOSFETs</a></div>
      
    </li>
  
    <li class="popular-posts-item">
      
      
      <div class="popular-posts-title"><a href="\archives\1e678d19\ads-inductor-pcell.html" rel="bookmark">使用ADS创建电感Pcell</a></div>
      
    </li>
  
    <li class="popular-posts-item">
      
      
      <div class="popular-posts-title"><a href="\archives\358f72b0\class-d-power-amplifier.html" rel="bookmark">Class D Power Amplifier</a></div>
      
    </li>
  
    <li class="popular-posts-item">
      
      
      <div class="popular-posts-title"><a href="\archives\97db45b0\ads-mom-pcell.html" rel="bookmark">使用ADS创建MOM电容Pcell</a></div>
      
    </li>
  
  </ul>

        
      
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Triblemany</li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://triblemany.github.io/archives/2e70db9d/transistor-amplifier.html" title="MOS Amplifier Structures">https://triblemany.github.io/archives/2e70db9d/transistor-amplifier.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.</li>
</ul>
</div>

      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/RFIC/" rel="tag"># RFIC</a>
            
              <a href="/tags/Transistor/" rel="tag"># Transistor</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/archives/6eefa2f5/mosfet.html" rel="next" title="Basic Theory of MOSFETs">
                  <i class="fa fa-chevron-left"></i> Basic Theory of MOSFETs
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/archives/c49a4fe0/Linux-command.html" rel="prev" title="常用Linux命令">
                  常用Linux命令 <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          
    
    
  <div class="comments" id="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  
  

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc" data-target="post-toc-wrap">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview" data-target="site-overview-wrap">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc">
            <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Common-Source"><span class="nav-number">1.</span> <span class="nav-text">Common Source</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CS-with-Resistor-Load"><span class="nav-number">1.1.</span> <span class="nav-text">CS with Resistor Load</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CS-with-Diode-Load-Cascode"><span class="nav-number">1.2.</span> <span class="nav-text">CS with Diode Load (Cascode)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CS-with-Current-Source-Load"><span class="nav-number">1.3.</span> <span class="nav-text">CS with Current-Source Load</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CS-with-Active-Load"><span class="nav-number">1.4.</span> <span class="nav-text">CS with Active Load</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CS-with-Triode-Load"><span class="nav-number">1.5.</span> <span class="nav-text">CS with Triode Load</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CS-with-Source-Degeneration"><span class="nav-number">1.6.</span> <span class="nav-text">CS with Source Degeneration</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Source-Follower"><span class="nav-number">2.</span> <span class="nav-text">Source Follower</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Common-Gate"><span class="nav-number">3.</span> <span class="nav-text">Common Gate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Cascode"><span class="nav-number">4.</span> <span class="nav-text">Cascode</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Miller-Effect"><span class="nav-number">5.</span> <span class="nav-text">Miller Effect</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Frequency-Response"><span class="nav-number">6.</span> <span class="nav-text">Frequency Response</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Association-of-Poles-with-Nodes"><span class="nav-number">6.1.</span> <span class="nav-text">Association of Poles with Nodes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Common-Source-1"><span class="nav-number">6.2.</span> <span class="nav-text">Common Source</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Source-Follower-1"><span class="nav-number">6.3.</span> <span class="nav-text">Source Follower</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Common-Gate-1"><span class="nav-number">6.4.</span> <span class="nav-text">Common Gate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cascode-1"><span class="nav-number">6.5.</span> <span class="nav-text">Cascode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Extra-Element-Theorem"><span class="nav-number">6.6.</span> <span class="nav-text">Extra Element Theorem</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Zero-Value-Time-Constant-Method"><span class="nav-number">6.7.</span> <span class="nav-text">Zero Value Time Constant Method</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">7.</span> <span class="nav-text">Reference</span></a></li></ol></div>
          </div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/avatar.jpg"
      alt="Triblemany">
  <p class="site-author-name" itemprop="name">Triblemany</p>
  <div class="site-description motion-element" itemprop="description"></div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">32</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">tags</span>
        </a>
      </div>
    
  </nav>



        </div>
      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2023</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Triblemany</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="Symbols count total">270k</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a></div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a></div>

        












        
      </div>
    </footer>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.3.0"></script><script src="/js/motion.js?v=7.3.0"></script>
<script src="/js/schemes/muse.js?v=7.3.0"></script>

<script src="/js/next-boot.js?v=7.3.0"></script>



  








  <script src="/js/local-search.js?v=7.3.0"></script>














  

  
    
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    
  

  

  


  
  <script src="/js/post-details.js?v=7.3.0"></script>


<script>
  function disqus_config() {
    this.page.url = "https://triblemany.github.io/archives/2e70db9d/transistor-amplifier.html";
    this.page.identifier = "archives/2e70db9d/transistor-amplifier.html";
    this.page.title = 'MOS Amplifier Structures';};
  function loadComments() {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://triblemany.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  }
    (function() {
      var offsetTop = document.getElementById('comments').offsetTop - window.innerHeight;
      if (offsetTop <= 0) {
        // load directly when there's no a scrollbar
        window.addEventListener('load', loadComments, false);
      } else {
        var disqus_scroll = () => {
          // offsetTop may changes because of manually resizing browser window or lazy loading images.
          var offsetTop = document.getElementById('comments').offsetTop - window.innerHeight;
          var scrollTop = window.scrollY;

          // pre-load comments a bit? (margin or anything else)
          if (offsetTop - scrollTop < 60) {
            window.removeEventListener('scroll', disqus_scroll);
            loadComments();
          }
        };
        window.addEventListener('scroll', disqus_scroll);
      }
    })();
  
</script>

</body>
</html>
